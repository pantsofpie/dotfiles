# ----------------
# SYSTEM

# Restart sxhkd
super + shift + s
	pkill -USR1 -x -sxhkd

# Quit/restart bspwm
super + shift + {e,r}
	bspc {quit,wm -r}

# Close and kill window
super + {_,shift + }q
	bspc node -{c,k}

# Toggle wallpaper
super + w
	~/dotfiles/toggle_wp.sh

super + shift + w
	~/dotfiles/toggle_dyn_wp.sh

# Screen lock
#super + l
#	~/dotfiles/lock.sh
super + l
	dm-tool lock

# ----------------
# APPS

# Terminal
super + f
	terminator

# Screenshot
Print
	scrot $HOME/'Pictures/Screenshots/%Y-%m-%d_%H%M%S-$wx$h_scrot.png'

# Screenshot an area
ctrl + @Print
	scrot -s $HOME/'Pictures/Screenshots/%Y-%m-%d_%H%M%S-$wx$h_scrot.png'

# Screenshot the active window
alt + Print
	scrot -u $HOME/'Pictures/Screenshots/%Y-%m-%d_%H%M%S-$wx$h_scrot.png'

# Nautilus
super + e
	nautilus

# Firefox
super + b
	firefox

# ----------------
# ROFI

# Launcher
#super + d
#	if [[ `uname -a` == *"gentoo"* ]]; then `rofi -opacity 85 -show run -modi run >> ~/.cache/bspwm/logs/rofi.log 2>&1 &` ; else `rofi -opacity 85 -show drun >> ~/.cache/bspwm/logs/rofi.log 2>&1 &` ; fi
super + d
	~/.config/rofi/launchers-git/launcher.sh

# ----------------
# WINDOW LAYOUT

# Tab between windows
# Better way to alt-tab :) was previously bound to winkey+left/right, which doesn't make a lot of sense.
alt + {_,shift +} Tab
	bspc node -f {next,prev}.local
	#bspc node -f {next,prev}

# toggle between the tiled and monocle layout
super + m
	bspc desktop -l next

# toggle between fullscreen and previous state
super + n
	bspc node -t '~fullscreen'

# toggle between tiled & floating
super + t
	[ -z "$(bspc query -N -n focused.floating)" ] \                    
	&& bspc node focused -t floating \                                        
	|| bspc node focused -t tiled

# hide window
super + h
	bspc query -N -n > ~/.config/bspwm/last.hidden; \
	bspc node -g hidden=on

# unhide last hidden
super + alt + h
	bspc node $(cat ~/.config/bspwm/last.hidden) -g hidden=off -f

# unhide all
super + ctrl + h
	for w in $(bspc query -N -n .hidden); do bspc node $w -g hidden=off; done

# resize window
super + alt + Up
	bspc node -z top 0 -20; bspc node -z bottom 0 20
super + alt + Down
	bspc node -z top 0 20; bspc node -z bottom 0 -20
super + alt + Left
	bspc node -z left 20 0; bspc node -z right -20 0
super + alt + Right
	bspc node -z left -20 0; bspc node -z right 20 0

# move a floating window
super + {Left,Down,Up,Right}
	bspc node -v {-20 0,0 20,0 -20,20 0}

# balance selected node
super + b
	bspc node --balance

# ----------------
# FOCUS / SWAP

# focus the node in the given direction
ctrl + {_,alt + }{Left,Down,Up,Right}
	bspc node -{f,s} {west,south,north,east}

# focus the node of the parent
super + p
	bspc node -f @parent

# focus the next/previous node in the current desktop
#ctrl + super + {Right, Left}
#	bspc node -f {next,prev}.local

# swap the current node and the biggest node
super + g
	bspc node -s biggest

# ----------------
# WORKSPACES
# workspace.sh is a wrapper for bspc that checks whether or not we're on the multi
# monitor desktop. if not, it makes sure the command is in the range of 1-6.

# Primary monitor
super + {_,shift + }{1,2,3,4,5,6}
	~/dotfiles/workspace.sh {desktop -f,node -d} '{7,8,9,10,11,12}' --follow
#super + {_,shift + }{1-6}
#	bspc {desktop -f,node -d} '^{1-6}' --follow

# Secondary monitor
super + control + {_,shift + }{1,2,3,4,5,6}
	~/dotfiles/workspace.sh {desktop -f,node -d} '{1,2,3,4,5,6}' --follow

# ----------------
# MEDIA KEYS

# Volume
XF86AudioRaiseVolume
	pactl -- set-sink-volume 0 +10%

XF86AudioLowerVolume
	pactl -- set-sink-volume 0 -10%

XF86AudioMute
	pactl -- set-sink-mute 0 toggle

# Brightness
XF86MonBrightnessUp
	brightnessctl s 10%+

XF86MonBrightnessDown
	brightnessctl s 10%-
